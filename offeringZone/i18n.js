/* /webapp/offeringZone/i18n.js v1.0.0 */
// CHANGELOG v1.0.0:
// - Initial release
// - Standalone i18n for Offering Zone module
// - RU/EN translations for personalized real estate offers

const translations = {
  ru: {
    // Main
    'offering.title': 'üéÅ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è',
    'offering.subtitle': '–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –≤–∞—à–µ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏',
    'offering.loading': '–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π...',
    'offering.noOffers': '–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π',
    'offering.noOffersDesc': '–£–≤–µ–ª–∏—á—å—Ç–µ —Å–≤–æ–π –¥–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ –∏–ª–∏ –ª–∏–∫–≤–∏–¥–Ω—ã–µ –∞–∫—Ç–∏–≤—ã',
    'offering.error': '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π',
    
    // Budget
    'offering.budget': '–î–æ—Å—Ç—É–ø–Ω—ã–π –±—é–¥–∂–µ—Ç',
    'offering.budget.cashFlow': '–î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ (3 –≥–æ–¥–∞)',
    'offering.budget.liquidAssets': '–õ–∏–∫–≤–∏–¥–Ω—ã–µ –∞–∫—Ç–∏–≤—ã (80%)',
    'offering.budget.formula': '–§–æ—Ä–º—É–ª–∞: (–¥–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ √ó 3) + (–ª–∏–∫–≤–∏–¥–Ω—ã–µ –∞–∫—Ç–∏–≤—ã √ó 80%)',
    
    // Offer Details
    'offering.learnMore': '–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ',
    'offering.price': '–¶–µ–Ω–∞',
    'offering.location': '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ',
    'offering.type': '–¢–∏–ø',
    'offering.bedrooms': '–°–ø–∞–ª—å–Ω–∏',
    'offering.area': '–ü–ª–æ—â–∞–¥—å',
    'offering.roi': '–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å',
    'offering.handover': '–ü–µ—Ä–µ–¥–∞—á–∞',
    'offering.status': '–°—Ç–∞—Ç—É—Å',
    
    // Property Types
    'property.apartment': '–ö–≤–∞—Ä—Ç–∏—Ä–∞',
    'property.studio': '–°—Ç—É–¥–∏—è',
    'property.penthouse': '–ü–µ–Ω—Ç—Ö–∞—É—Å',
    'property.villa': '–í–∏–ª–ª–∞',
    'property.townhouse': '–¢–∞—É–Ω—Ö–∞—É—Å',
    
    // Status
    'status.available': '–î–æ—Å—Ç—É–ø–Ω–æ',
    'status.reserved': '–ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ',
    'status.sold': '–ü—Ä–æ–¥–∞–Ω–æ',
    
    // Units
    'units.sqm': '–º¬≤',
    'units.sqft': '–∫–≤.—Ñ—Ç',
    'units.bedroom': '—Å–ø–∞–ª—å–Ω—è',
    'units.bedrooms': '—Å–ø–∞–ª—å–Ω–∏',
    
    // Actions
    'action.viewDetails': '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏',
    'action.contact': '–°–≤—è–∑–∞—Ç—å—Å—è',
    'action.compare': '–°—Ä–∞–≤–Ω–∏—Ç—å',
    'action.favorite': '–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ',
    
    // Messages
    'message.comingSoon': '–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —é–Ω–∏—Ç–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏',
    'message.projectLabel': '–ü—Ä–æ–µ–∫—Ç',
    'message.unitLabel': '–Æ–Ω–∏—Ç',
    
    // Common
    'common.loading': '–ó–∞–≥—Ä—É–∑–∫–∞...',
    'common.error': '–û—à–∏–±–∫–∞',
    'common.retry': '–ü–æ–≤—Ç–æ—Ä–∏—Ç—å'
  },
  
  en: {
    // Main
    'offering.title': 'üéÅ Personal Offers',
    'offering.subtitle': 'Based on your financial position',
    'offering.loading': 'Loading offers...',
    'offering.noOffers': 'No suitable offers yet',
    'offering.noOffersDesc': 'Increase your cash flow or liquid assets',
    'offering.error': '‚ùå Error loading offers',
    
    // Budget
    'offering.budget': 'Available Budget',
    'offering.budget.cashFlow': 'Cash Flow (3 years)',
    'offering.budget.liquidAssets': 'Liquid Assets (80%)',
    'offering.budget.formula': 'Formula: (cash flow √ó 3) + (liquid assets √ó 80%)',
    
    // Offer Details
    'offering.learnMore': 'Learn More',
    'offering.price': 'Price',
    'offering.location': 'Location',
    'offering.type': 'Type',
    'offering.bedrooms': 'Bedrooms',
    'offering.area': 'Area',
    'offering.roi': 'ROI',
    'offering.handover': 'Handover',
    'offering.status': 'Status',
    
    // Property Types
    'property.apartment': 'Apartment',
    'property.studio': 'Studio',
    'property.penthouse': 'Penthouse',
    'property.villa': 'Villa',
    'property.townhouse': 'Townhouse',
    
    // Status
    'status.available': 'Available',
    'status.reserved': 'Reserved',
    'status.sold': 'Sold',
    
    // Units
    'units.sqm': 'm¬≤',
    'units.sqft': 'sq.ft',
    'units.bedroom': 'bedroom',
    'units.bedrooms': 'bedrooms',
    
    // Actions
    'action.viewDetails': 'View Details',
    'action.contact': 'Contact',
    'action.compare': 'Compare',
    'action.favorite': 'Add to Favorites',
    
    // Messages
    'message.comingSoon': 'Detailed unit information will be available in the next version',
    'message.projectLabel': 'Project',
    'message.unitLabel': 'Unit',
    
    // Common
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.retry': 'Retry'
  }
};

// Current language (default: ru)
let currentLanguage = 'ru';

/**
 * Get translation for key
 */
export function t(key, lang = null) {
  const language = lang || currentLanguage;
  return translations[language]?.[key] || key;
}

/**
 * Set current language
 */
export function setLanguage(lang) {
  if (translations[lang]) {
    currentLanguage = lang;
    console.log(`üåç [OfferingZone] Language set to: ${lang}`);
    return true;
  }
  console.warn(`‚ö†Ô∏è [OfferingZone] Language not supported: ${lang}`);
  return false;
}

/**
 * Get current language
 */
export function getCurrentLanguage() {
  return currentLanguage;
}

// Auto-detect language from Telegram
if (typeof window !== 'undefined' && window.Telegram?.WebApp) {
  const tgLang = window.Telegram.WebApp.initDataUnsafe?.user?.language_code;
  if (tgLang === 'en') {
    setLanguage('en');
  }
}

console.log('üåç [OfferingZone] i18n initialized:', currentLanguage);