/* /webapp/businessTriangle/i18n.js v1.0.0 */
// CHANGELOG v1.0.0:
// - Initial release
// - Standalone i18n for Business Triangle module
// - RU/EN translations

const translations = {
  ru: {
    // Main Title
    'triangle.title': 'üìä –ë–∏–∑–Ω–µ—Å-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ',
    'triangle.subtitle': '–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–æ–º',
    'triangle.backToAccount': '–ù–∞–∑–∞–¥ –∫ –∞–∫–∫–∞—É–Ω—Ç—É',
    
    // Triangle Areas
    'triangle.mission': '–ú–ò–°–°–ò–Ø',
    'triangle.team': '–ö–û–ú–ê–ù–î–ê',
    'triangle.leadership': '–õ–ò–î–ï–†–°–¢–í–û',
    'triangle.product': '–ü—Ä–æ–¥—É–∫—Ç',
    'triangle.legal': '–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ',
    'triangle.systems': '–°–∏—Å—Ç–µ–º—ã',
    'triangle.communications': '–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏',
    'triangle.cashFlow': '–î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫',
    
    // Tooltips
    'triangle.missionTooltip': '–ú–∏—Å—Å–∏—è –∫–æ–º–ø–∞–Ω–∏–∏',
    'triangle.teamTooltip': '–ö–æ–º–∞–Ω–¥–∞ –∏ –ª—é–¥–∏',
    'triangle.leadershipTooltip': '–õ–∏–¥–µ—Ä—Å—Ç–≤–æ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ',
    'triangle.productTooltip': '–ü—Ä–æ–¥—É–∫—Ç –∏ —É—Å–ª—É–≥–∏',
    'triangle.legalTooltip': '–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã',
    'triangle.systemsTooltip': '–°–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã',
    'triangle.communicationsTooltip': '–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏',
    'triangle.cashFlowTooltip': '–î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ –∏ —Ñ–∏–Ω–∞–Ω—Å—ã',
    
    // Placeholders
    'triangle.inDevelopment': '–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...',
    'triangle.comingSoon': '–°–∫–æ—Ä–æ...',
    
    // Product Selector (20L integration)
    'triangle.selectProduct': '–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã',
    'triangle.createProduct': '–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç',
    
    // Errors
    'triangle.noAccountId': '–û—à–∏–±–∫–∞: –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω',
    'triangle.loadingError': '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–∑–Ω–µ—Å-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
    
    // Common
    'common.loading': '–ó–∞–≥—Ä—É–∑–∫–∞...',
    'common.back': '–ù–∞–∑–∞–¥',
    'common.close': '–ó–∞–∫—Ä—ã—Ç—å'
  },
  
  en: {
    // Main Title
    'triangle.title': 'üìä Business Management',
    'triangle.subtitle': 'Business Management System',
    'triangle.backToAccount': 'Back to Account',
    
    // Triangle Areas
    'triangle.mission': 'MISSION',
    'triangle.team': 'TEAM',
    'triangle.leadership': 'LEADERSHIP',
    'triangle.product': 'Product',
    'triangle.legal': 'Legal',
    'triangle.systems': 'Systems',
    'triangle.communications': 'Communications',
    'triangle.cashFlow': 'Cash Flow',
    
    // Tooltips
    'triangle.missionTooltip': 'Company mission',
    'triangle.teamTooltip': 'Team and people',
    'triangle.leadershipTooltip': 'Leadership and management',
    'triangle.productTooltip': 'Product and services',
    'triangle.legalTooltip': 'Legal aspects',
    'triangle.systemsTooltip': 'Systems and processes',
    'triangle.communicationsTooltip': 'Communications and sales',
    'triangle.cashFlowTooltip': 'Cash flow and finance',
    
    // Placeholders
    'triangle.inDevelopment': 'In development...',
    'triangle.comingSoon': 'Coming soon...',
    
    // Product Selector (20L integration)
    'triangle.selectProduct': 'Select product to work with',
    'triangle.createProduct': 'Create product',
    
    // Errors
    'triangle.noAccountId': 'Error: account not defined',
    'triangle.loadingError': 'Error loading business management',
    
    // Common
    'common.loading': 'Loading...',
    'common.back': 'Back',
    'common.close': 'Close'
  }
};

// Current language (default: ru)
let currentLanguage = 'ru';

/**
 * Get translation for key
 */
export function t(key, lang = null) {
  const language = lang || currentLanguage;
  return translations[language]?.[key] || key;
}

/**
 * Set current language
 */
export function setLanguage(lang) {
  if (translations[lang]) {
    currentLanguage = lang;
    console.log(`üåç [BusinessTriangle] Language set to: ${lang}`);
    return true;
  }
  console.warn(`‚ö†Ô∏è [BusinessTriangle] Language not supported: ${lang}`);
  return false;
}

/**
 * Get current language
 */
export function getCurrentLanguage() {
  return currentLanguage;
}

// Auto-detect language from Telegram
if (typeof window !== 'undefined' && window.Telegram?.WebApp) {
  const tgLang = window.Telegram.WebApp.initDataUnsafe?.user?.language_code;
  if (tgLang === 'en') {
    setLanguage('en');
  }
}

console.log('üåç [BusinessTriangle] i18n initialized:', currentLanguage);