/* /webapp/accountDashboard/i18n.js v1.0.0 */
// CHANGELOG v1.0.0:
// - Initial release
// - Standalone i18n for Account Dashboard module
// - RU/EN translations for 7-step navigation

const translations = {
  ru: {
    // Dashboard Main
    'dashboard.backToList': '–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É',
    'dashboard.account': '–ê–∫–∫–∞—É–Ω—Ç',
    'dashboard.loading': '–ó–∞–≥—Ä—É–∑–∫–∞...',
    'dashboard.errorLoading': '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–±–∏–Ω–µ—Ç–∞',
    'dashboard.accountNotFound': '‚ùå –ê–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω',
    
    // Account Types (badges)
    'dashboard.accountType.individual': 'üë§ –§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ',
    'dashboard.accountType.business': 'üè¢ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ',
    'dashboard.accountType.government': 'üèõÔ∏è –ì–æ—Å–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è',
    
    // 7 Steps Navigation
    'dashboard.step1': '–§–∏–Ω. –æ—Ç—á—ë—Ç',
    'dashboard.step1.title': 'üìä –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á—ë—Ç',
    'dashboard.step1.desc': '–û—Ç—á—ë—Ç –æ –¥–æ—Ö–æ–¥–∞—Ö, —Ä–∞—Å—Ö–æ–¥–∞—Ö, –∞–∫—Ç–∏–≤–∞—Ö –∏ –ø–∞—Å—Å–∏–≤–∞—Ö',
    
    'dashboard.step2': '–¶–µ–ª–∏',
    'dashboard.step2.title': 'üéØ –¶–µ–ª–∏',
    'dashboard.step2.desc': '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ü–µ–ª–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
    
    'dashboard.step3': '–î–µ–Ω. –ø–æ—Ç–æ–∫',
    'dashboard.step3.title': 'üíµ –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫',
    'dashboard.step3.desc': '–ê–Ω–∞–ª–∏–∑ –¥–≤–∏–∂–µ–Ω–∏—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤',
    
    'dashboard.step4': '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏',
    'dashboard.step4.title': 'üìà –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏',
    'dashboard.step4.desc': '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å',
    
    'dashboard.step5': '–ë–∏–∑–Ω–µ—Å',
    'dashboard.step5.title': 'üè¢ –ë–∏–∑–Ω–µ—Å',
    'dashboard.step5.desc': '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–æ–º',
    
    'dashboard.step6': '–ë–∏–∑. —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ',
    'dashboard.step6.title': 'üìä –ë–∏–∑–Ω–µ—Å-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ',
    'dashboard.step6.desc': '–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Å–∏—Å—Ç–µ–º–∞ 20L',
    
    'dashboard.step7': 'IPO',
    'dashboard.step7.title': 'üöÄ IPO',
    'dashboard.step7.desc': '–í—ã—Ö–æ–¥ –Ω–∞ –±–∏—Ä–∂—É',
    
    // Coming Soon
    'dashboard.comingSoon': '–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ',
    'dashboard.comingSoonIcon': 'üöß',
    'dashboard.comingSoonDesc': '–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö',
    
    // Common
    'common.loading': '–ó–∞–≥—Ä—É–∑–∫–∞...',
    'common.back': '–ù–∞–∑–∞–¥',
    'common.close': '–ó–∞–∫—Ä—ã—Ç—å',
    'common.refresh': '–û–±–Ω–æ–≤–∏—Ç—å'
  },
  
  en: {
    // Dashboard Main
    'dashboard.backToList': 'Back to list',
    'dashboard.account': 'Account',
    'dashboard.loading': 'Loading...',
    'dashboard.errorLoading': '‚ùå Error loading cabinet',
    'dashboard.accountNotFound': '‚ùå Account not found',
    
    // Account Types (badges)
    'dashboard.accountType.individual': 'üë§ Individual',
    'dashboard.accountType.business': 'üè¢ Business',
    'dashboard.accountType.government': 'üèõÔ∏è Government',
    
    // 7 Steps Navigation
    'dashboard.step1': 'Fin. Report',
    'dashboard.step1.title': 'üìä Financial Report',
    'dashboard.step1.desc': 'Income, expenses, assets and liabilities report',
    
    'dashboard.step2': 'Goals',
    'dashboard.step2.title': 'üéØ Goals',
    'dashboard.step2.desc': 'Financial goals and planning',
    
    'dashboard.step3': 'Cash Flow',
    'dashboard.step3.title': 'üíµ Cash Flow',
    'dashboard.step3.desc': 'Cash flow analysis',
    
    'dashboard.step4': 'Investments',
    'dashboard.step4.title': 'üìà Investments',
    'dashboard.step4.desc': 'Investment portfolio',
    
    'dashboard.step5': 'Business',
    'dashboard.step5.title': 'üè¢ Business',
    'dashboard.step5.desc': 'Business management',
    
    'dashboard.step6': 'Bus. Management',
    'dashboard.step6.title': 'üìä Business Management',
    'dashboard.step6.desc': 'Management triangle and 20L system',
    
    'dashboard.step7': 'IPO',
    'dashboard.step7.title': 'üöÄ IPO',
    'dashboard.step7.desc': 'Going public',
    
    // Coming Soon
    'dashboard.comingSoon': 'Section in development',
    'dashboard.comingSoonIcon': 'üöß',
    'dashboard.comingSoonDesc': 'This section will be available in future versions',
    
    // Common
    'common.loading': 'Loading...',
    'common.back': 'Back',
    'common.close': 'Close',
    'common.refresh': 'Refresh'
  }
};

// Current language (default: ru)
let currentLanguage = 'ru';

/**
 * Get translation for key
 */
export function t(key, lang = null) {
  const language = lang || currentLanguage;
  return translations[language]?.[key] || key;
}

/**
 * Set current language
 */
export function setLanguage(lang) {
  if (translations[lang]) {
    currentLanguage = lang;
    console.log(`üåç [AccountDashboard] Language set to: ${lang}`);
    return true;
  }
  console.warn(`‚ö†Ô∏è [AccountDashboard] Language not supported: ${lang}`);
  return false;
}

/**
 * Get current language
 */
export function getCurrentLanguage() {
  return currentLanguage;
}

// Auto-detect language from Telegram
if (typeof window !== 'undefined' && window.Telegram?.WebApp) {
  const tgLang = window.Telegram.WebApp.initDataUnsafe?.user?.language_code;
  if (tgLang === 'en') {
    setLanguage('en');
  }
}

console.log('üåç [AccountDashboard] i18n initialized:', currentLanguage);